# 智能PCB图像处理工作台 (Intelligent PCB Light Painting Workbench)

这是一个完全在浏览器端运行的单文件Web应用程序，专为制作**“PCB灯光画”**而设计。用户可以上传一张普通图片，通过一系列强大的在线编辑工具进行处理，最终一键生成用于PCB（印刷电路板）制造所需的Gerber图层文件（以PNG图片格式导出）。

 
*(建议：你可以截一张应用界面的图片，上传到图床（如 imgur.com），然后替换上面的链接)*

---

## ✨ 核心功能

*   **完全在浏览器端运行**: 无需后端服务器，所有计算和处理都在用户的浏览器中完成，保证了隐私和速度。
*   **单文件应用**: 整个应用包含在一个HTML文件中，易于部署、分享和离线使用。
*   **图像上传与压缩**: 支持拖拽或点击上传图片，并内置高效的图像压缩功能，处理大尺寸图片也毫无压力。
*   **强大的编辑工具**:
    *   **原图编辑**: 提供画笔、套索、油漆桶等工具，可对原始图片进行任意修改和颜色修正。
    *   **简化图编辑**: 在颜色量化后的简化图上，进行像素级的精修，确保每个图层的细节都尽在掌握。
*   **智能颜色量化**:
    *   根据预设的多种PCB颜色方案（蓝、红、绿、黑、白等），自动将复杂图片转换为符合PCB工艺的有限颜色。
    *   支持**喷锡(HASL)**和**沉金(ENIG)**工艺选择，并能智能识别和处理图片中的金属色部分。
    *   所有容差均支持滑块调节，提供极高的灵活性。
*   **一键生成Gerber图层**: 根据编辑后的简化图，自动生成制造PCB所需的多个关键图层，包括：
    *   正面铜皮层 (Top Copper)
    *   正面阻焊层 (Top Solder Mask)
    *   正面丝印层 (Top Silkscreen)
    *   背面阻焊层 (Bottom Solder Mask)
    *   ... 以及其他根据颜色方案生成的图层。
*   **实时预览**: 提供最终PCB成品的模拟预览图，让你在生产前就能看到灯光画的真实效果。
*   **打包下载**: 一键将所有生成的图层文件和预览图打包为 `.zip` 文件下载，并支持自定义文件名。

---

## 🚀 如何使用

1.  **打开网页**: 直接在浏览器中打开 `ai_studio_code.html` 文件。
2.  **上传图片**: 点击或将你的图片文件拖拽到上传区域。
3.  **编辑原图 (可选)**:
    *   使用左侧的 **原图编辑工具** 对图片进行初步修正。
    *   选择画笔、套索或填充工具，并挑选一个颜色进行操作。
    *   完成后点击 “下一步：选择色系”。
4.  **配置工艺与色系**:
    *   选择你想要的PCB主 **颜色系**。
    *   选择 **表面处理工艺** (喷锡或沉金)。
    *   调整 **金属色检测容差** 滑块，观察右侧简化图的变化，直到满意为止。
5.  **编辑简化图**:
    *   使用右侧的 **简化图编辑工具** 进行像素级的精修。
    *   确保每个颜色区块都符合你的最终设计。
6.  **生成图层**:
    *   点击 “一键生成” 按钮。
    *   下方会展示所有生成的遮罩层、合成图层和实物预览图。
7.  **下载**:
    *   输入自定义的文件名前缀。
    *   点击 “一键下载所有图片” 按钮，即可获得一个包含所有生产文件的 `.zip` 压缩包。

---

## 🛠️ 技术栈

*   **HTML5 / CSS3 / JavaScript (ES6+)**: 构成应用的基础。
*   **Tailwind CSS**: 用于快速构建现代化、响应式的用户界面。
*   **JSZip**: 用于在浏览器端生成 `.zip` 压缩包。
*   **FileSaver.js**: 用于触发浏览器保存文件。
*   **browser-image-compression**: 用于在上传时高效地压缩图片。
*   **Canvas API**: 用于所有核心的图像读取、处理和渲染操作。

---

## 🙏 致谢

*   **原始创意与制作**: B站UP主 **[不是孙小华呀](https://space.bilibili.com/1031031979)**
*   **功能改进与重构**: **[星辉棉花](https://space.bilibili.com/1775976544)** 通过 Google Gemini 进行代码修改、优化与功能增强。
*   **部署**: 应用由 **Cloudflare Pages** 托管。

---
